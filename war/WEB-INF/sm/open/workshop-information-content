<%@ include file="/WEB-INF/sm/open/content-header"%>
<div style="background-color: #d9edf7; padding: 0;">
	<h5
		style="display: inline-block; font-weight: bolder; padding: 1%; margin-top: 0; margin-bottom: 0">
		Category: <a
			href="<c:url value='/sm/open/get-workshop-category?categoryName=${workshopCategory.name.name}'/>">
			<c:out value="${workshopCategory.name.name}" />
	</h5>
	</a> <a href="<c:url value="${category.catalogueLink}" />"><h5
			class="pull-right"
			style="display: inline-block; font-weight: bolder; padding: 1%; margin-top: 0; margin-bottom: 0">Catalogue</h5></a>
</div>
<div class="container-fluid">
	<div class="row">
		<div class="col-sm-9">
			<img class="img-responsive" src="${workshopTemplate.imageUrl}" alt=""
				style="margin-top: 2%;" />
		</div>
		<div class="col-sm-3" style="padding:0;margin-right:0;margin-left:0">
			<ul class="list-group" style="border:none">
				<li class="list-group-item" style="border:none"><b class="text-muted" style="display:block">Price :</b> <strong style='font-size: 12pt'> N ${workshopTemplate.price}0</strong>
				</li>
				<li class="list-group-item" style="border:none"><b class="text-muted" style="display:block">Skill Level :</b>
					<c:forEach var ='item' items='${workshopTemplate.skillLevel}'>${item} </c:forEach></li>
				<li class="list-group-item" style="border:none"><input type="hidden" class="rating" data-readonly
									data-fractions="5" value="rating" style='display:block'/> <p>(<c:out value="${fn:length(reviews)}" />) reviews</p></li>
				<li class="list-group-item" style="border:none"><input type='button' class='btn btn-sm btn-danger' value='Add to cart' /></li>
			</ul>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12" style="text-align: center;">
			<h4 style="font-weight: bold;" class="text-muted">
				<c:out value="${workshopTemplate.workshopName}" />
			</h4>
		</div>
	</div>
	
	<c:if test="${showScheduleDetails}">
	<div class="row">
		<div class="col-sm-12">
			<strong class="text-primary">Schedule Information</strong>
			<div class="well">
				<p><strong class="text-muted">DATE: </strong><c:out value="${scheduleWokshopDisplay.startDate}" /></p>
				<p><strong class="text-muted">TIME: </strong><c:out value="9am-5pm" /></p>
				<p><strong class="text-muted">FORMAT: </strong><c:out value="${scheduleWokshopDisplay.format}" /></p>
				<p><strong class="text-muted">VENUE: </strong><c:out value="${scheduleWokshopDisplay.venue}" /></p>
				<p><strong class="text-muted">LOCATION: </strong><c:out value="${scheduleWokshopDisplay.location.state}, ${scheduleWokshopDisplay.location.country}" /></p>
				<p><strong class="text-muted">CREDIT HOURS: </strong><c:out value="8 hours" /></p>
				<p><strong class="text-muted">SALESSMAXX POINTS: </strong>1000SL</p>
			</div>
		</div>
	</div>
	</c:if>
	
	<div class="row">
		<div class="col-sm-12">
			<strong class="text-primary">Description</strong>
			<p>
				<c:out value="${workshopTemplate.shortDescription.value}" />
			</p>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<strong class="text-primary">Audience</strong>
			<ul>
				<c:forEach var="aud" items="${workshopTemplate.audiences}">
					<li>${aud}</li>
				</c:forEach>
			</ul>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<strong class="text-primary">Learning Outcomes</strong>
			<ul>
				<c:forEach var="aud" items="${workshopTemplate.learningOutcomes}">
					<li>${aud}</li>
				</c:forEach>
			</ul>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<strong class="text-primary">Course Content</strong>
			<table class="table table-striped table-responsive table-bordered">
				<c:forEach var="aud" items="${workshopTemplate.courseContent}">
					<tr>
						<td>${aud}</td>
					</tr>
				</c:forEach>
			</table>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<c:choose>
				<c:when test="${showScheduleDetails}">
					<strong class="text-primary">Other Schedules</strong>
				</c:when>
				<c:otherwise>
					<strong class="text-primary">Schedules</strong>
				</c:otherwise>
			</c:choose>
			
			<c:choose>
				<c:when test="${fn:length(workshopSchedules) > 0}">
					<table class="table table-striped table-responsive table-bordered">
						<thead>
							<tr>
								<th>Date</th>
								<th>Location</th>
								<th></th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<c:forEach var="wsp" items="${workshopSchedules}">
								<c:if test="${wsp.id != scheduleWokshopDisplay.id}">
									<tr>
									<td><c:out value="${wsp.startDate}" /></td>
									<td><c:out
											value="${wsp.location.state}" /></td>
									<td><a
										href="<c:url value='/sm/open/get-workshop-template-by-schedule-workshop?id=${wsp.id}' />">View
											Details</a></td>
									<td><button class="btn btn-sm btn-danger">Add to
											cart</button></td>
								</tr>
								</c:if>
							</c:forEach>
						</tbody>
					</table>
				</c:when>
				<c:otherwise>
					<div class="well">
						<output class="text-muted">No schedule available</output>
					</div>
				</c:otherwise>
			</c:choose>
		</div>
	</div>
</div>